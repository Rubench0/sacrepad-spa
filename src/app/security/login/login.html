<div class="background-login">
<div class="col-sm-9 col-md-7 col-lg-5 mx-auto">
	<div class="card card-signin my-5">
		<div class="card-body">
			<h3 class="text-center" >{{ title }}</h3>
			<form #loginForm="ngForm" (ngSubmit)="onSubmit(); password.reset();">
				<div class="form-group">
					<div class="input-group">
						<div class="input-group-prepend">
							<div class="input-group-text"><span aria-hidden="true"><i class="fas fa-user"></i></span></div>
						</div>
						<input type="email" class="form-control" id="login_email" name="login_email" #email="ngModel"
							[(ngModel)]="user.email" placeholder="Correo" required />
						<div *ngIf="email.invalid && (email.dirty || email.touched)" class="invalid-feedback">
							El email no es válido.
						</div>
					</div>
				</div>
				<div class="form-group">
					<div class="input-group">
						<div class="input-group-prepend">
							<div class="input-group-text"><span aria-hidden="true"><i class="fas fa-lock"></i></span></div>
						</div>
						<input type="password" class="form-control" id="login_pw" name="login_pw" #password="ngModel"
							[(ngModel)]="user.password" placeholder="Contraseña" required />
						<div *ngIf="!password.invalid && password.touched" class="invalid-feedback">
							La contraseña no es válida.
						</div>
					</div>
				</div>
				<button type="submit" class="btn btn-primary btn-block" [disabled]="!loginForm.form.valid">Entrar</button>
					<div class="alert alert-success" role="alert" *ngIf="identity && identity.sub">
						Logueado con éxito! Bienvenido {{ identity.email }}
					</div>
					<div class="alert alert-danger margin-btn-top" role="alert" *ngIf="identity && identity.data">
						Email o contraseña invalido.
					</div>
				<button type="button" [routerLink]="['../studycontrol/student/new']" class="btn btn-secondary btn-block" >Inscribir</button>
			</form>
			<div class="margin-btn-top" *ngIf="loading">
				<img style="float:left;" [src]="'assets/img/loading2.gif'" [alt]="loader" width="30" height="30">
				<p style="float:left;">&nbsp;&nbsp;Verificando...</p>
			</div>
		</div>
	</div>
</div>
</div>